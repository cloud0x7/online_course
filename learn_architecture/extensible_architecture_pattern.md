
#### 可扩展架构的基本思想和模式
* 基本思想：拆分系统
  - 面向流程拆分：分层架构
  - 面向服务拆分：SOA、微服务
  - 面向功能拆分：微内核架构
* 不同的拆分方式，决定了系统扩展方式


#### 传统的可扩展架构模式：分层架构和SOA
* 分层架构：核心是保证各层差异清晰边界明显，能够看懂整个架构，降低整理复杂度
  - C/S架构、B/S架构：根据用户交互维度划分（用户交互分为一层，支撑后台一层）
  - MVC、MVP架构：根据职责划分
  - 逻辑分层：职责分层，自顶向下依赖
* SOA：面向服务架构，解决了IT系统重复建设，扩展效率低的问题，也带来了更多复杂性
  - 服务：所有业务功能都是服务
  - ESB：企业服务总线
  - 松耦合：减少服务间的依赖和影响
  

#### 深入理解微服务架构：银弹还是焦油坑
* 微服务与SOA对比
  - 服务粒度：微服务更细一些
  - 服务通信：微服务推荐统一协议和格式，较轻量
  - 服务交付：微服务要求快速交付，自动化测试，持续集成，自动化部署
  - 应用场景：SOA更适用庞大复杂异构的企业系统；微服务适用快速轻量的互联网系统
* 微服务的陷阱
  - 服务划分过细，服务间关系复杂
  - 服务数量太多，团队效率下降
  - 调用链太长，性能下降
  - 调用链太长，定位问题困难
  - 没有自动化支持，无法快速交付


#### 微服务架构最佳实践-方法篇
* 服务粒度：
  - 三个人最佳，可全面理解，又可细度分工；
  - 有效的备份；
  - 有效的讨论又避免思路盲区；
  - 维护期一人负责一个服务即可
* 拆分方法
  - 基于业务逻辑拆分：
  - 基于可扩展拆分：区分稳定服务和变动服务
  - 基于可靠性拆分：核心服务优先级
  - 基于性能拆分：拆分性能要求高或压力大的模块，避免影响其它业务
* 基础设施
  - 做好微服务，基础设施必不可少
  - 搭建的优先级：
    - 服务发现、服务路由、服务容错：基础设施
    - 接口框架、API网关：提升开发效率
    - 自动化部署、测试、配置中心：提升测试运维效率
    - 服务监控、跟踪、安全：提升运维效率
    

#### 微服务架构最佳实践-基础设施篇
* 自动化测试：代码单元测试、系统集成测试、系统间接口测试、
* 自动化部署：版本管理、资源管理、部署操作、回退操作
* 配置中心：管理所有微服务节点的配置，包括版本管理、配置同步、配置推送
* 接口框架：统一协议 和 数据格式
* API网关：外部系统访问的接口，包括接入鉴权（是否允许接入）、权限控制（可以访问哪些功能）、传输加密、请求路由、流量控制等
* 服务发现：服务的自动注册和发现，服务注册表记录所有服务节点的配置和状态
  - 自理式：
  - 代理式：
* 服务路由：通常和服务发现一起实现，根据路由算法从服务节点中挑一个具体节点 起请求
* 服务容错：请求重试、流控和服务隔离，通常集成在服务发现和服务路由中
* 服务监控：独立系统，搜集、分析信息、提供预警
* 服务跟踪：微观上追踪每一次具体请求细节
* 服务安全：接入安全、数据安全、传输安全


#### 微内核架构
* 也称插件化架构，是面向功能进行拆分的可扩展架构
* 基本架构
  - 核心系统：通用功能，如模块加载、模块间通信
  - 插件模块：具体业务逻辑
